% +--------------------------------------------------+
% | Typeset this file to document the OU_SUPPS       |
% +--------------------------------------------------+
%
% Copyright (c) 20015-2016 by Robert Brignall for The Open University.
% All Rights Reserved.
%
% This file is part of the OU-SUPPS distribution.
% ------------------------------------------------------------
% 
% It may be distributed and/or modified under the
% conditions of the LaTeX Project Public License, either version 1.3
% of this license or (at your option) any later version.
% The latest version of this license is in
%   http://www.latex-project.org/lppl.txt
% and version 1.3 or later is part of all distributions of LaTeX
% version 2003/12/01 or later.
% 

\documentclass[a4paper]{ltxguide}

\makeatletter
\newenvironment{desc}
  {\if@nobreak
     \vskip-\lastskip
     \vspace*{-2.5ex}%
   \fi
   \decl}
  {\enddecl}
\makeatother

\newcommand\3{\unskip\enspace\fbox{\fontsize{4}{4}\selectfont NEW 3.0}}

\usepackage{hyperref}

\pagestyle{headings}
\let\MakeUppercase=\relax

%\usepackage{pslatex}

\title{\textsf{OU-SUPPS}\\Class files for Open University teaching material}

\author{Robert Brignall\footnote{For bug reports, comments and
suggestions go to \href{https://github.com/rbrignall/OU-SUPPS}%
{\texttt{https://github.com/rbrignall/OU-SUPPS}}.}}

\date{Version 1.32\\2016-08-30}

\IfFileExists{enumitem.sty}{\usepackage{enumitem}}{}

\addtolength{\topmargin}{-3pc}
\addtolength{\textwidth}{6pc}
\addtolength{\oddsidemargin}{-2pc}
\addtolength{\textheight}{7pc}

\raggedright

\parindent 0pt
\parskip 4pt
\begin{document}

\maketitle

\tableofcontents

\section{Introduction}

The \textsf{OU-SUPPS} repository contains four class files:
\begin{itemize}
\item \texttt{ouab.cls} for Assignment Booklets and TMA booklets;
\item \texttt{outn.cls} for Tutor Notes and specimen solutions (for distribution to students);
\item \texttt{ouexam.cls} for exams, specimen exams, and solutions;
\item \texttt{ouicma.cls} for print versions of iCMAs (e.g. for offender learners).
\end{itemize}

In addition, template \LaTeX\ files for each class file are available, illustrating most of the features available.

\section{Installation}

\textsf{OU-SUPPS} does not need installation. To use:

\begin{enumerate}
\item Download the contents of the \textsf{OU-SUPPS} repository from \href{https://github.com/rbrignall/OU-SUPPS}%
{\texttt{https://github.com/rbrignall/OU-SUPPS}}.
\item Save the contents in your working folder.
\item Open the template tex file for the class you want to use with your \LaTeX\ editor, and compile it \emph{twice} (using either \texttt{latex} or \texttt{pdflatex}). 
\item Your \LaTeX\ distribution may ask to install a few packages the first time you compile each of the template files.
\item If it compiled successfully, then everything is working as expected.
\end{enumerate}

\paragraph{Important:} When writing a SUPP file using the new system, as a minimum you will need to have the following files in your working folder:
\begin{itemize}
\item The tex source for your document.
\item The relevant class file (e.g.\ \texttt{ouab.cls} if you're creating an Assignment Booklet).
\item The two OU logo files.
\end{itemize}



\section{Using \texttt{ouab.cls}}

This section covers the features available in |ouab.cls|, for writing Assignment Booklets and TMA books. |ouab.cls| is based on the standard |article| class file, so any commands used there can be used in |ouab|.

\subsection{Preamble}

\subsubsection{Options}
As well as the default version, there are two options available. These options do not affect the syntax you use for the rest of your file.

\begin{desc}
|\documentclass{ouab}|
\end{desc}

This is the default operation for using |ouab.cls|. It produces a table of contents on the front page, and is designed for Assignment Booklets containing more than one TMA/CMA.

\begin{desc}
|\documentclass[oneassignment]{ouab}|
\end{desc}

This version is designed for booklets that contain (e.g.) a single TMA (although it will let you have more than one assignment in the source). Instead of a table of contents on the front page, it inserts information provided by the first assignment in the |latex| file.

\begin{desc}
|\documentclass[markcheck]{ouab}|
\end{desc}

(EXPERIMENTAL) This version can be used to check  that the stated total marks for a question (i.e. the number $n$ in |\question[...]{|$n$|}[...]|) is equal to the number of marks produced by |\marks{...}| in the subquestions. If the numbers do not add up, it interrupts the compilation and reports this. Do not wholly rely on this, as it is an experimental feature!

\begin{desc}
|\documentclass[oneassignment,markcheck]{ouab}|
\end{desc}

As always, you can combine options and the effects of each option will be seen.



\subsubsection{Commands to be used in the preamble}
\begin{desc}
|\faculty{...}|
\end{desc}
The name of the faculty (optional, default is `Faculty of Science, Technology, Engineering and Mathematics')
\begin{desc}
|\modulecode{...}|
\end{desc}
Sets the code of the module (required).
\begin{desc}
|\moduletitle{...}|
\end{desc}
Sets the title (i.e./ name) of the module (required).

\begin{desc}
|\abtitle{...}|
\end{desc}
Sets the title for the Assignment Booklet (required).

\begin{desc}
|\absubtitle{...}|
\end{desc}
Subtitle for the Assignment Booklet (optional, default is blank).

\begin{desc}
|\abyear{...}|
\end{desc}
Sets the year/presentation for this AB (required).

\begin{desc}
|\copyrightyear{...}|
\end{desc}
Sets the date for copyright, used in the footer on the front page (optional, default is same as |\abyear|).


\begin{desc}
|\suppno{...}| %can be omitted for "DRAFT"
\end{desc}
Sets the SUPP number, mainly used by DPU/LTS (optional, default is `DRAFT').

\begin{desc}
|\versionno{...}| %optional
\end{desc}
Sets the version number, mainly used by DPU/LTS (optional, default is blank).

\begin{desc}
|\optiontext{...}|
\end{desc}
Changes the text that appears at the top of multi-choice questions (optional, default is `Options:'). Does not need to be in the preamble, so you can change the text for options part-way through the document.

\begin{desc}
|\nocutoffdate|
\end{desc}
This switches off the text ``Cut-off date'' that appears (e.g.) on the front page (optional). Use this for modules where the cut-off dates are not provided in the assignment booklet.


\begin{desc}
|\abinstructions{...}|
\end{desc}
Command for the instructions/rubric on the front page of the booklet (optional, but defaults to `No special instructions specified.')


\subsection{Creating assignments}
Three commands are available to create assignments: TMA, CMA, and a generic command for creating any other type.

\begin{desc}
|\tma[<date>]{<number>}[<subtitle>]|\\
|\tma*[<date>]{<number>}[<subtitle>]|
\end{desc}
Creates a TMA with number equal to |<number>|. The |<date>| and |<subtitle>| parts are both optional and can be omitted. The starred version suppresses the |\newpage| command, so does not insert a new page before the assignment.

|<date>| specifies the cut-off date for the TMA.

|<subtitle>| specifies text for the `subtitle', which is only used in the description of the assignment on the front page.

\begin{desc}
|\cma[<date>]{<number>}[<subtitle>]|\\
|\cma*[<date>]{<number>}[<subtitle>]|
\end{desc}
Creates a CMA, usage as per |\tma|. The starred version suppresses the |\newpage| command, so does not insert a new page before the assignment.

\begin{desc}
|\assignment{<name>}[<date>]{<number>}[<subtitle>]|\\
|\samepageassignment{<name>}[<date>]{<number>}[<subtitle>]|
\end{desc}

Creates an assignment type |<name>| (required), numbered with |<number>|. The |<date>| and |<subtitle>| parts are both optional and can be omitted. The |\samepageassignment| variant creates an assignment without inserting a new page, whereas |\assignment| inserts a new page.

All assignment types add an entry  to the table of contents on the front page, and reset the |question| counter to 0. The behaviour of the table of contents depends on whether the |oneassignment| option has been specified or not.

\subsection{Creating questions}
The internal counter used for generating questions is |question|.  This gets reset at the start of each assignment.


\subsubsection{Question syntax}

\begin{desc}
|\question[<description>]{<marks>}|
\end{desc}
Creates a new question, with the number of marks available specified by the command |<marks>|.

The parameter |<description>| is optional, and can be used to provide additional information about the question in its header line. 


\begin{desc}
|\question*[<description>]|
\end{desc}
Starred variant of |\question| which does not require the number of marks to be specified. The parameter |<description>| is optional.


\subsubsection{Subquestions}
To create subquestions, use the standard \LaTeX\ |enumerate| environment.

\begin{verbatim}
\begin{enumerate}
\item ...
\item ...
...
\end{enumerate}
\end{verbatim}

These environments can be nested to create subsubquestions, etc. The default numbering style is |(a),(b),...| for subquestions, and |(i),(ii),...| for subsubquestions.

The class file |ouab.cls| loads the |enumitem| package, which provides a number of features, two of which we list here.

\begin{itemize}
\item Changing the numbering: Start the environment using, e.g.\ |\begin{enumerate}[A.]|, to modify the numbering system to |A.,B.,...|.
\item Resuming numbering after a break: use |\begin{enumerate}[resume]| to continue counting from the previous time an enumerate environment at this level was called.
\end{itemize} 

For fuller details of the possibilities with |enumitem|, see the documentation on its CTAN entry.

\subsubsection{Marks}
Marks can be placed anywhere in the document (including inside displayed equations). You may need to  compile your |tex| file twice in order for the marks to be correctly aligned.

\begin{desc}
|\marks{<n>}|
\end{desc}
Places |<n>| in square brackets in the right hand margin on the line. 

\emph{Warning:} This feature has redefined the \TeX\ primitive |\marks| command. 

\begin{desc}
|\mk{<n>}|
\end{desc}
A synonym for |\marks|, for those moving from OUTeX.

If using the experimental |markcheck| option, when compiled, \LaTeX\ will check whether the sum of the entries inside |\marks| and |\mk| commands adds up to the parameter |<marks>| specified by the preceding |\question|. This has some limitations (e.g.\ it won't understand |\tfrac{1}{2}|).

If the numbers are not the same, |markcheck| will cause the compilation to stop and give you information about where the marks do not add up. Press |<enter>| to carry on compiling your tex file.


\subsubsection{Multiple choice} 

For CMAs and other assignment types that have multiple choice questions, the following commands are available.

The text appearing at the top of each list of options can be changed using the |\optiontext{<title>}| command. This command can be used in the premable, or at any point in the document.

\begin{desc}
|\begin{options}|\\
|   \item ...|\\
|   \item ...|\\
|\end{options}|
\end{desc}
Creates a list of options, with the text of each |\item| starting on a new line. Options are labelled |A.,B.,C.,...|.

\begin{desc}
|\begin{inlineoptions}[<line spacing>]{<columns>}|\\
|   \item ...|\\
|   \item ...|\\
|\end{inlineoptions}|
\end{desc}
Creates a list of options, displayed in |<columns>| number of columns, equally spaced. Each successive |\item| is placed sequentially from left to right, then starting a new line as necessary. Options are labelled |A.,B.,C.,...|.

The optional parameter |<line spacing>| can be used to increase the spacing between each line. However, note that this also affect spacing within options, which can have undesired effect if your options include, e.g., a |matrix| environment.

\begin{desc}
|\noitem|
\end{desc}
This command can be used within  |inlineoptions| to leave a `blank' in the list of options. This is particularly useful on the final line if you have fewer |\item|s left than the specified number of |<columns>|.


\subsection{Technical info}
This section can be omitted unless you need/want to know a bit more about the class file.

\subsubsection{Packages loaded}
|ouab.cls| loads the following packages automatically, so you do not need to call |\usepackage{...}| to use the features provided by these.

\begin{itemize}
\item |geometry| to set page margins, sizes, etc
\item |fancyhdr| for formatting headings
\item |graphicx| for handling images, etc
\item |changepage| to adjust page widths automatically
\item |array| extends the |array| and |tabular| environments.
\item |amsmath| loaded with the |fleqn| option to left-align displayed mathematics.
\item |amssymb| extra mathematical symbols
\item |lastpage| for knowing how many pages the document contains
\item |ifthen| for internal latex coding
\item |enumitem| with options |inline| and |shortlabels|. This is a powerful tool that will help preparing subquestions (see later).
\item |marginnote| for handling marks, etc in the margin.
\item |caption| with option |labelsep=quad| to improve formatting for figures.
\end{itemize}

%
%
%
%
%
%
%
%
%
%
%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Using \texttt{outn.cls}}


This section covers the features available in |outn.cls|, for writing Tutor Notes and Specimen Solutions for assignments. |outn.cls| is based on the standard |article| class file, so any commands used there can be used in |outn|. Note also that the syntax is as close as possible to that created in |ouab.cls|, so, in theory, the two types of SUPP could be generated from a common source at a reasonably advanced stage of development. 

\subsection{Preamble}

\subsubsection{Options}
As well as the default version to produce tutor notes, there are two options available. These options do not affect the syntax you use for the rest of your file.

\begin{desc}
|\documentclass{outn}|
\end{desc}

This is the default operation for using |outn.cls|. It produces a Tutor Notes booklet.

\begin{desc}
|\documentclass[specsolns]{outn}|
\end{desc}

This version is designed to create a specimen solutions PDF. In this mode, a number of commands have no effect, e.g. those for specifying marks (|\marks| and |\subtotal|, etc), the title is changed to reflect the different type of document, and (by default) the font colour is changed to green.

\begin{desc}
|\documentclass[studenttex]{outn}|
\end{desc}

(EXPERIMENTAL) The idea is that on compilation, as well as producing Tutor Notes (or specimen solutions if |specsolns| is also specified) it produces a compilable |latex| source file called |<filename>-student.tex| that can be compiled by (e.g.) ALs who do not have the |OU-SUPPS| suite of class files on their machine. This system is still under development, and is subject to some limitations in functionality.


\subsubsection{Commands to be used in the preamble}
\begin{desc}
|\faculty{...}|
\end{desc}
The name of the faculty (optional, default is `Faculty of Science, Technology, Engineering and Mathematics')
\begin{desc}
|\modulecode{...}|
\end{desc}
Sets the code of the module (required).
\begin{desc}
|\moduletitle{...}|
\end{desc}
Sets the title (i.e./ name) of the module (required).

\begin{desc}
|\tntitle{...}|
\end{desc}
Sets the title for the Tutor Notes/Specimen Solutions (required).

\begin{desc}
|\tnyear{...}|
\end{desc}
Sets the year/presentation for this TN (required).

\begin{desc}
|\copyrightyear{...}|
\end{desc}
Sets the date for copyright, used in the footer on the front page (optional, default is same as |\tnyear|).


\begin{desc}
|\specsolnscolor{<color>}|
\end{desc}
Command to change the font color used in Specimen Solutions to |<color>| (e.g. |blue| or |red|). The class file loads the package |xcolor.sty| so you can use this to specify your own colors. This command is optional, the default color is |ougreen|, which is defined in |outn.cls| by |\definecolor{ougreen}{RGB}{0,128,0}|.


\begin{desc}
|\optiontext{...}|
\end{desc}
Changes the text that appears at the top of multi-choice questions (optional, default is `Options:'). Does not need to be in the preamble, so you can change the text for options part-way through the document.


\subsection{Creating assignments}
Three commands are available to create assignments: TMA, CMA, and a generic command for creating any other type. These commands have the same syntax as in |ouab|, but the behaviour is slightly different (since |outn| does not produce a table of contents).

\begin{desc}
|\tma[<date>]{<number>}[<subtitle>]|\\
|\tma*[<date>]{<number>}[<subtitle>]|
\end{desc}
Creates a TMA with number equal to |<number>|. The |<date>| and |<subtitle>| parts are both optional and can be omitted. The starred version suppresses the |\newpage| command, so does not insert a new page before the assignment.

|<date>| specifies the cut-off date for the TMA.

|<subtitle>| has no effect in |outn|. It is parsed by the system and then ignored, so that the syntax is identical to that used by |ouab|.

\begin{desc}
|\cma[<date>]{<number>}[<subtitle>]|\\
|\cma*[<date>]{<number>}[<subtitle>]|
\end{desc}
Creates a CMA, usage as per |\tma|. The starred version suppresses the |\newpage| command, so does not insert a new page before the assignment.

\begin{desc}
|\assignment{<name>}[<date>]{<number>}[<subtitle>]|\\
|\samepageassignment{<name>}[<date>]{<number>}[<subtitle>]|
\end{desc}

Creates an assignment type |<name>| (required), numbered with |<number>|. The |<date>| and |<subtitle>| parts are both optional and can be omitted (and |<subtitle>| has no effect in |outn|). The |\samepageassignment| variant creates an assignment without inserting a new page, whereas |\assignment| inserts a new page.

All assignment types reset the |question| counter to 0. 
\subsection{Creating questions/solutions}
The internal counter used for generating questions/solutions is |question|.  This gets reset at the start of each assignment.


\subsubsection{Question syntax}

\begin{desc}
|\question[<description>]{<marks>}|
\end{desc}
Creates a new question (or solution), with the number of marks available specified by the command |<marks>|. The wording at the top of the question is `Solution to Question |<n>|'.

The parameter |<description>| is optional, and can be used to provide additional information about the question in its header line. 


\begin{desc}
|\question*[<description>]|
\end{desc}
Starred variant of |\question| which does not require the number of marks to be specified. The parameter |<description>| is optional.

\begin{desc}
|\begin{solution}...\end{solution}|
\end{desc}

An environment to contain the solution to a question. The contents of these environments are precisely what is output to the |latex| source file when using the experimental |studenttex| mode. If not using |studenttex| mode, this environment is merely a semantic feature, and does not need to be used. 

\subsubsection{Subquestions}
To create subquestions, use the standard \LaTeX\ |enumerate| environment.

\begin{verbatim}
\begin{enumerate}
\item ...
\item ...
...
\end{enumerate}
\end{verbatim}

These environments can be nested to create subsubquestions, etc. The default numbering style is |(a),(b),...| for subquestions, and |(i),(ii),...| for subsubquestions.

The class file |outn.cls| loads the |enumitem| package, which provides a number of features, two of which we list here.

\begin{itemize}
\item Changing the numbering: Start the environment using, e.g.\ |\begin{enumerate}[A.]|, to modify the numbering system to |A.,B.,...|.
\item Resuming numbering after a break: use |\begin{enumerate}[resume]| to continue counting from the previous time an enumerate environment at this level was called.
\end{itemize} 

For fuller details of the possibilities with |enumitem|, see the documentation on its CTAN entry.

\subsubsection{Marks}
Marks can be placed anywhere in the document (including inside displayed equations). You may need to  compile your |tex| file twice in order for the marks to be correctly aligned. In |specsolns| mode, all the commands in this subsubsection are suppressed in the resulting PDF. In |studenttex| mode, all these commands are suppressed in the outputted |latex| source file.

\begin{desc}
|\marks{<n>}|
\end{desc}
Places |<n>| in the right hand margin on the line. 

\emph{Warning:} This feature has redefined the \TeX\ primitive |\marks| command. 

\begin{desc}
|\mk{<n>}|
\end{desc}
A synonym for |\marks|, for those moving from OUTeX.

\begin{desc}
|\solnmarksplus{<description>}{<n>}|
\end{desc}
Place |<n>| in the right hand margin, and |<description>| (which could be a short sentence running to several lines) to the right of the mark.

\begin{desc}
|\subtotal[<description>]{<n>}|\\
|\total[<description>]{<n>}|
\end{desc}

Specifies that the subtotal or total for a part-question or question is |<n>|, placing |<n>| in the margin, and the word `Subtotal' or `Total' in large, bold to its right. The optional argument |<description>| can be used to append wording to the word `Total'. Typical usages of the |<description>| parameter are:\\ 
|\subtotal[for part \theenumi]{<n>]}|\\
|\total[for Question \thequestion]{<n>]}|.

\begin{desc}
|\subtotal*[<description>]|\\
|\total*[<description>]|
\end{desc}

Calculates the subtotal or total for a part-question or question, placing 
the calculated value in the margin, and the word `Subtotal' or `Total' in large, 
bold to its right; the calculated value accounts for all marks given in 
any of the following commands: |bracketedmarks|, |solnmarks|, |solnmarksplus|, 
|marks|, |mk|, and |mkplus|. The optional argument |<description>| is the same 
as with the |\subtotal| and |\total| commands. 

\subsubsection{Multiple choice} 

For CMAs and other assignment types that have multiple choice questions, the following commands are available. It is unlikely that these will be needed in tutornotes, but they have been included for consistency with |ouab.cls|.

The text appearing at the top of each list of options can be changed using the |\optiontext{<title>}| command. This command can be used in the premable, or at any point in the document.

\begin{desc}
|\begin{options}|\\
|   \item ...|\\
|   \item ...|\\
|\end{options}|
\end{desc}
Creates a list of options, with the text of each |\item| starting on a new line. Options are labelled |A.,B.,C.,...|.

\begin{desc}
|\begin{inlineoptions}[<line spacing>]{<columns>}|\\
|   \item ...|\\
|   \item ...|\\
|\end{inlineoptions}|
\end{desc}
Creates a list of options, displayed in |<columns>| number of columns, equally spaced. Each successive |\item| is placed sequentially from left to right, then starting a new line as necessary. Options are labelled |A.,B.,C.,...|.

The optional parameter |<line spacing>| can be used to increase the spacing between each line. However, note that this also affect spacing within options, which can have undesired effect if your options include, e.g., a |matrix| environment.

\begin{desc}
|\noitem|
\end{desc}
This command can be used within  |inlineoptions| to leave a `blank' in the list of options. This is particularly useful on the final line if you have fewer |\item|s left than the specified number of |<columns>|.

\subsection{Comments for tutors or students}

Since the same |latex| source is expected to produce both tutor notes and (using |specsolns| mode) specimen solutions, commands are provided for comments to appear to tutors and/or students.

\emph{Warning: These commands are still under development and syntax/appearance is still liable to change in future.}

\begin{desc}
|\textref{<description>}|
\end{desc}

Inserts |<description>| in bold and italics, in a right-aligned box. Primarily expected to be used for references to texts or handbooks.


\begin{desc}
|\remark{<text>}|
|\begin{longremark}<text>\end{longremark}|
\end{desc}

Provides a command and environment in which to write text that is visible only in the tutornotes (i.e.\ it is suppressed in |specsolns| mode). The |longremark| environment is designed for longer paragraphs of explanation.

\emph{Warning: Do not use the |longremark| environment inside the |solutions| environment! In certain modes this will cause errors relating to verbatim mode.}

\subsection{Technical info}
This section can be omitted unless you need/want to know a bit more about the class file.

\subsubsection{Packages loaded}
|outn.cls| loads the following packages automatically, so you do not need to call |\usepackage{...}| to use the features provided by these.

\begin{itemize}
\item |geometry| to set page margins, sizes, etc
\item |fancyhdr| for formatting headings
\item |graphicx| for handling images, etc
\item |changepage| to adjust page widths automatically
\item |array| extends the |array| and |tabular| environments.
\item |amsmath| loaded with the |fleqn| option to left-align displayed mathematics.
\item |amssymb| extra mathematical symbols
\item |lastpage| for knowing how many pages the document contains
\item |ifthen| for internal latex coding
\item |enumitem| with options |inline| and |shortlabels|. This is a powerful tool that will help preparing subquestions (see later).
\item |marginnote| for handling marks, etc in the margin.
\item |caption| with option |labelsep=quad| to improve formatting for figures.
\end{itemize}



%
%
%
%
%
%
%
%
%
%
%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Using \texttt{ouexam.cls}}

This section covers the features available in |ouexam.cls|, for writing exam papers, specimen (and second specimen) papers, and solutions to exams. 

In theory, the same |latex| source file can be used to generate both an exam script and its model solutions, which might be helpful for drafting purposes. For the final version to be handed over, it is advised that you create two source files (one for the exam, one for its solutions).

\subsection{Preamble}

\subsubsection{Options}
As well as the default version, there are three options available. These options do not affect the syntax you use for the rest of your file, except for some of the commands in the preamble (detailed later).

\begin{desc}
|\documentclass{ouexam}|
\end{desc}

This is the default operation for using |ouexam.cls| for setting exam papers. Any text in |solution| environments is ignored.

\begin{desc}
|\documentclass[specimen]{ouexam}|
\end{desc}

This version is designed for specimen exam papers. The formatting on the front page is changed, and certain commands (e.g.\ |\examtime|) are not required.

\begin{desc}
|\documentclass[secondspecimen]{ouexam}|
\end{desc}

Version for second specimen exam papers. Formatting on the front page and requirements are similar to the |specimen| option.


\begin{desc}
|\documentclass[showsolutions]{ouexam}|
\end{desc}

This version creates a solution booklet. Formatting on the front page is changed, and the contents of |solution| environments gets displayed.

\begin{desc}
|\documentclass[specimensolutions]{ouexam}|\\
|\documentclass[specimen,showsolutions]{ouexam}|
\end{desc}

The |showsolutions| option can be used alongside the |specimen| option to provide model solutions for specimen exams formatted in a style expected by LTS. The major changes in this mode are the formatting of teh title, footer information, and text within the |solutions| environment will be displayed without additional formatting. The |specimensolutions| option is an alias for |specimen,showsolutions|.

\begin{desc}
|\documentclass[14pt]{ouexam}|
\end{desc}

This provides a large-print version for visually impaired students. Also available are |17pt| and |20pt|, and these all work with other options. These options should only be used in response to specific requests made by students, and should not be used to produce the standard exam.

\subsubsection{Commands to be used in the preamble}
\begin{desc}
|\modulecode{...}|
\end{desc}
Sets the code of the module (required).

\begin{desc}
|\session{...}|
\end{desc}
Sets the session code for the exam (required, except for |specimen| and |secondspecimen|). This replaces the deprecated |\conflation{...}| command (although this still works to ensure backwards compatibility).

\begin{desc}
|\moduletitle{...}|
\end{desc}
Sets the title (i.e./ name) of the module (required).

\begin{desc}
|\specimensolutionstitle{...}|
\end{desc}
Optional. Sets the title that appears at the top of the specimen solutions in |specimensolutions| mode. Default is ``Solutions to the second examination paper''. It has no function in other modes.

\begin{desc}
|\examcode{<code>}|
\end{desc}
Encodes |<code>| for the barcode on the front page (optional, default is blank).

\begin{desc}
|\examtime{<start> -- <finish>}|\\
|\examday{<day>}|\\
|\exammonth{<month>}|\\
|\examyear{<year>}|
\end{desc}

Specifies the time, day, month and year of the exam (required, except for |specimen| and |secondspecimen|).

\begin{desc}
|\timeallowed{<n> hours}|
\end{desc}
Specifies the time allowed (required).

\begin{desc}
|\copyrightyear{...}|
\end{desc}
Sets the date for copyright, used in the footer on the front page (optional, default is same as |\examyear|).


\begin{desc}
|\suppno{...}| %can be omitted for "DRAFT"
\end{desc}
Sets the SUPP number for |specimen| and |secondspecimen| options, mainly used by DPU/LTS (optional, default is blank).

\begin{desc}
|\versionno{...}| %optional
\end{desc}
Sets the version number for |specimen| and |secondspecimen| options, mainly used by DPU/LTS (optional, default is blank).

\begin{desc}
|\faculty{...}| %optional
\end{desc}
Sets the name for the faculty (appears in |specimensolutions| mode only). The default is `Faculty of Science, Technology, Engineering and mathematics'.

\begin{desc}
|\optiontext{...}|
\end{desc}
Changes the text that appears at the top of multi-choice questions (optional, default is `Options:'). Does not need to be in the preamble, so you can change the text for options part-way through the document.


\begin{desc}
|\examinstructions{...}|
\end{desc}
Command for the instructions/rubric on the front page of the exam (optional, but defaults to `No special instructions specified.')

\subsection{Creating questions}
The internal counter used for generating questions is |question|. 

\subsubsection{Question syntax}

\begin{desc}
|\question[<description>]|
\end{desc}
Creates a question. The parameter |<description>| is optional, and can be used to provide additional information about the question in its header line. 


\subsubsection{Subquestions}
To create subquestions, use the standard \LaTeX\ |enumerate| environment.

\begin{verbatim}
\begin{enumerate}
\item ...
\item ...
...
\end{enumerate}
\end{verbatim}

These environments can be nested to create subsubquestions, etc. The default numbering style is |(a),(b),...| for subquestions, and |(i),(ii),...| for subsubquestions.

The class file |ouexam.cls| loads the |enumitem| package, which provides a number of features, two of which we list here.

\begin{itemize}
\item Changing the numbering: Start the environment using, e.g.\ |\begin{enumerate}[A.]|, to modify the numbering system to |A.,B.,...|.
\item Resuming numbering after a break: use |\begin{enumerate}[resume]| to continue counting from the previous time an enumerate environment at this level was called.
\end{itemize} 

For fuller details of the possibilities with |enumitem|, see the documentation on its CTAN entry.

\subsubsection{Marks}
Marks can be placed anywhere in the document (including inside displayed equations). You may need to  compile your |tex| file twice in order for the marks to be correctly aligned.

\begin{desc}
|\marks{<n>}|
\end{desc}
Places |<n>| in square brackets in the right hand margin on the line. 

\emph{Warning:} This feature has redefined the \TeX\ primitive |\marks| command. 

\begin{desc}
|\mk{<n>}|
\end{desc}
A synonym for |\marks|, for those moving from OUTeX.


\subsubsection{Multiple choice} 

For exams that have multiple choice questions, the following commands are available. The syntax is the same as for |ouab.cls| and |ouicma.cls|.

The text appearing at the top of each list of options can be changed using the |\optiontext{<title>}| command. This command can be used in the premable, or at any point in the document.

\begin{desc}
|\begin{options}|\\
|   \item ...|\\
|   \item ...|\\
|\end{options}|
\end{desc}
Creates a list of options, with the text of each |\item| starting on a new line. Options are labelled |A.,B.,C.,...|.

\begin{desc}
|\begin{inlineoptions}[<line spacing>]{<columns>}|\\
|   \item ...|\\
|   \item ...|\\
|\end{inlineoptions}|
\end{desc}
Creates a list of options, displayed in |<columns>| number of columns, equally spaced. Each successive |\item| is placed sequentially from left to right, then starting a new line as necessary. Options are labelled |A.,B.,C.,...|.

The optional parameter |<line spacing>| can be used to increase the spacing between each line. However, note that this also affect spacing within options, which can have undesired effect if your options include, e.g., a |matrix| environment.

\begin{desc}
|\noitem|
\end{desc}
This command can be used within  |inlineoptions| to leave a `blank' in the list of options. This is particularly useful on the final line if you have fewer |\item|s left than the specified number of |<columns>|.


\subsection{Creating solutions}

\begin{desc}
|\begin{solution}|\\
|...|\\
|\end{solution}|
\end{desc}

Enter the contents of solutions inside the |solution| environment. This is simply a wrapper environment, and can be used within an |enumerate| environment (i.e.\ solutions per subquestion/subsubquestion), and/or you can use |enumerate| environments inside the solution environment. 

The text inside the |solution| environment is \emph{only} displayed when one of the |showsolutions| or the |specimensolutions| options is specified in the preamble. 

When displayed, the solutions can be formatted in one of two ways:
\begin{description}
\item[{|[specimensolutions]| or |[specimen,showsolutions]|:}] The text is displayed without further formatting.
\item[{|[showsolutions]|:}] The text of the solutions is set to |\small|, and placed on a beige background with a thick black line on the left, to indicate the scope of the solution.
\end{description}

\emph{Note:} The showing/hiding solutions features of |ouexam| are designed for use by authors when drafting exams, to help you check answers tally up to the corresponding questions. When creating the final version for handover, you will probably want to make two copies of your working file, one to create the exam (with solutions removed), the other to create the solutions (possibly with the questions removed, though this is option except for specimen solutions).

\subsubsection{Specifying marks within the \texttt{solution} environment}


\begin{desc}
|\marks{<n>}|\\
|\mk{<n>}|
\end{desc}
These two commands can be used to specify marks, as per the format for creating questions. Within the |solution| environment in |[showsolutions]| mode, the numbers are displayed in the right-hand margin in text size |\small|, and without square brackets. 

\begin{desc}
|\solnmarksplus{<n>}{<comment>}|\\
|\mkplus{<n>}{<comment>}|
\end{desc}
These two commands can be used to enter |<n>| marks in the right hand column (as per |\marks|), but additionally enters |<comment>| in the margin, to the right of |<n>|. 


\subsection{Alternative method to create solutions}
If you prefer not to have solutions appearing in-line with the questions, an alternative method is to place all solutions at the end. You should not use this method for creating specimen solutions.


\begin{desc}
|\solutions|
\end{desc}

This flag behaves similarly to the |\appendix| flag in standard \LaTeX\ files: here, |\solutions| marks the end of the exam paper, resets the |question| counter, and redefines the text in the |\question| command to `Solution to Question~|\thequestion|'. 

Solutions can then be created using the |\question| command to create questions, and all other commands are available.


\emph{Important note:} Contents after the |\solutions| flag will be displayed irrespective of whether the |showsolutions| option is specified in the preamble. However, you may want to specify |showsolutions| in order to adjust the formatting of the cover page.

\subsection{Technical info}
This section can be omitted unless you need/want to know a bit more about the class file.

\subsubsection{Packages loaded}
|ouexam.cls| loads the following packages automatically, so you do not need to call |\usepackage{...}| to use the features provided by these.

\begin{itemize}
\item |geometry| to set page margins, sizes, etc
\item |fancyhdr| for formatting headings
\item |graphicx| for handling images, etc
\item |changepage| to adjust page widths automatically
\item |array| extends the |array| and |tabular| environments.
\item |amsmath| loaded with the |fleqn| option to left-align displayed mathematics.
\item |amssymb| extra mathematical symbols
\item |lastpage| for knowing how many pages the document contains
\item |ifthen| for internal latex coding
\item |enumitem|. This is a powerful tool that will help preparing subquestions (see later).
\item |marginnote| for handling marks, etc in the margin.
\item |mdframed| with option |xcolor| to provide formatting for coloured boxes to display solutions.
\item |verbatim| to ensure the contents of the |solution| environment is hidden unless |showsolutions| is specified.
\item |barcodes| for creating the barcode on the front page. 
\item |extsizes| when options |14pt|, |17pt| or |20pt| are used, to handle larger font sizes. 
\end{itemize}

%
%
%
%
%
%
%
%
%
%
%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Using \texttt{ouicma.cls}}
Not yet written!

%
%
%
%
%
%
%
%
%
%
%%%%%%%%%%%%%%%%%%%%%%%%%
\pagebreak
\section{Moving from OUTeX}

Some features in OUTeX have not been carried over. Here is some help to help you adjust to standard \LaTeX.

\begin{tabular}{@{}p{0.3\textwidth}@{\hspace{0.05\textwidth}}p{0.65\textwidth}@{}}
OUTeX& \LaTeX\\\hline
Figures & Use the standard LaTeX figure environment. e.g.\newline
|\begin{figure}\label{<label>}|\newline
|\centering|\newline
|\includegraphics{<image>}|\newline
|\caption{<caption>}|\newline
|\end{figure}|\newline
See sources online for options to float figures, etc.
\\\hline
Compiling: |latex|, |dvips| + |ps2pdf| with |eps| files & You can use |pdflatex| with |eps| files, but to do so you need to add this to the preamble:\newline
|\usepackage{epstopdf}|\newline
The alternative is to use the old route |latex|, |dvips| + |ps2pdf|.
\\\hline
|\intertext|&|\end{enumerate}...\begin{enumerate}[resume]|\\\hline
|\|\texttt{\textless ...\&...}|\|\texttt{\textgreater}&|\begin{align*}...&...\end{align*}|\newline
You can recover the OUTeX command by inserting the following into your preamble:\newline
|\def\|\texttt{\textless}|#1\|\texttt{\textgreater}|{\begin{align*}#1\end{align*}}|\newline
However, we do not recommend you use this, as it will not be understood by anyone not previously familiar with OUTeX (e.g. ALs), and will mean snippets of your code won't work out of the context of the file it's in.
\\\hline
|\[ ... \\ ... \]|&
|\beglin{gather*}...\\...\end{gather*}|
\\\hline
Matrix alignment & Load the |mathtools| package, so you can write e.g. |\begin{pmatrix}[l]|\newline |<matrix>|\newline |\end{pmatrix}|\newline to left-align all columns. Alternatively (and to specify different column alignments) use the |array| environment instead, e.g.:\newline |\left(\begin{array}{lrcl}|\newline |<matrix>|\newline|\end{array}\right)|.
\\\hline
Binomials (column vector format)& |\binom{n}{k}|\\\hline
|\setright{\text{<text>}}|&|\tag{<text>}|\\\hline
\end{tabular}

\end{document}
